<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WhatsApp Template Sender</title>
    <link rel="stylesheet" type="text/css" href="https://dttteam.github.io/MontyChat/PhoneList.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://appsforoffice.microsoft.com/lib/1/hosted/office.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.4/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chart.js for graph -->
</head>
<body>
    <div class="container">
        <div id="loadingSpinner" class="spinner" style="display: none;"></div>
        <div id="loadingMessage" class="loading-message" style="display: none;">Please wait...</div>

        <div class="logo-container">
            <img src="https://dttteam.github.io/MontyChat/Images/whatsapp-logo.png" alt="WhatsApp Logo" class="logo">
        </div>

        <div class="form-container">
            <select id="phoneNumberDropdown" class="dropdown" required></select>
            <select id="templateDropdown" class="dropdown" required></select>
            <button id="sendBtn" class="send-button">Send Template</button>
            <div class="progress-bar" id="progressBar" style="display: none;">
                <div class="progress-bar-fill" id="progressBarFill"></div>
                <span class="progress-bar-text" id="progressBarText">0%</span>
            </div>
        </div>

        <div class="tab-container" style="display: none;">
            <button class="tab-button" data-tab="Statistics">Statistics</button>
        </div>

        <div id="Statistics" class="tab-content" style="display: none;">
            <div id="statistics" class="statistics">
                <p class="stat-label">
                    Total Phone Numbers: <span id="totalNumbers">0</span>
                </p>
                <p class="stat-label">
                    Sent: <span id="sentNumbers">0</span>
                </p>
                <p class="stat-label">
                    Failed: <span id="failedNumbers">0</span>
                </p>
                <canvas id="statisticsGraph" width="300" height="200"></canvas>
            </div>
        </div>

        <div id="Cost" class="tab-content" style="display: none;">
            <label id="costPerMessageLabel" for="costPerMessage" class="stat-label">
                Cost Per Message:
            </label>
            <input type="number" id="costPerMessage" class="dropdown" value="0.05" step="0.01" min="0">
            <p class="stat-label">
                Total Cost: <span id="totalCost">$0.00</span>
            </p>
        </div>

        <div id="componentContainer" class="component-container"></div>

        <div id="notification" class="notification"></div>

        <div id="confirmationModal" class="modal">
            <div class="modal-content">
                <p>Do you want to clear existing data and statistics?</p>
                <button id="confirmYes" class="modal-btn">Yes</button>
                <button id="confirmNo" class="modal-btn">No</button>
            </div>
        </div>
    </div>
    <script src="https://dttteam.github.io/MontyChat/PhoneList.js"></script>
</body>
</html>
